# Dual Edge Showdown 项目说明文档

## 项目概述

"Dual Edge Showdown"是一款基于Web技术的双人对战游戏，采用现代化Web技术栈开发，集成了Supabase作为后端服务，实现了用户系统、游戏数据管理和排行榜功能。项目具有完整的游戏体验流程，从用户登录到游戏对战，再到数据统计和排行，形成了一个完整的游戏生态系统。

## 项目结构

```
Dual Edge showdown/
├── index.html                 # 项目主入口页面
├── favicon.ico               # 网站图标
├── pages/                    # 页面文件目录
│   ├── login.html           # 用户登录/注册页面
│   ├── userinfo.html        # 个人信息管理页面
│   ├── game.html            # 游戏主界面
│   ├── selectMap.html       # 地图选择页面
│   ├── help.html            # 游戏帮助说明页面
│   ├── leaderboard.html     # 排行榜页面
│   └── init-database.html   # 数据库初始化工具
├── scripts/                  # JavaScript脚本目录
│   ├── control.js           # 游戏核心逻辑控制器
│   ├── game-data-manager.js # 游戏数据管理器
│   ├── supabase.js          # Supabase数据库连接
│   ├── game-integration.js  # 游戏集成脚本
│   └── jquery.min.js        # jQuery库
├── styles/                   # CSS样式目录
│   ├── cover.css            # 主页面样式
│   └── new.css              # 主要游戏样式
├── assets/                   # 资源文件目录
│   ├── images/              # 图像资源
│   │   ├── backgrounds/     # 地图背景图片
│   │   └── ...              # 其他图像资源
│   └── sounds/              # 音频资源
│       ├── bgm/             # 背景音乐
│       ├── characters/      # 角色音效
│       └── effects/         # 效果音
├── docs/                     # 项目文档目录
├── database/                 # 数据库相关文件
└── temp/                     # 临时文件目录
```

## 核心文件功能说明

### 1. HTML页面文件

#### 1.1 主页面
- **index.html** (585 B)
  - 项目的入口页面，包含游戏标题、START按钮和背景音乐
  - 提供进入登录页面的入口
  - 简洁的欢迎界面设计

#### 1.2 用户相关页面
- **login.html** (20.56 KB)
  - 用户登录/注册页面，支持邮箱密码登录和注册
  - 提供游客模式选项，方便快速体验游戏
  - 集成Supabase认证系统，实现安全的用户认证
  - 精美的游戏风格UI设计，包含背景动画和音效

- **userinfo.html** (36.88 KB)
  - 个人信息管理页面，允许用户编辑个人资料
  - 支持用户名、个人介绍等信息的修改
  - 头像上传功能，支持图像预览和裁剪
  - 个人统计信息显示，包括游戏时长、胜率等
  - 数据持久化到Supabase数据库

#### 1.3 游戏核心页面
- **game.html** (17.48 KB)
  - 游戏主界面，包含完整的游戏地图和角色元素
  - 集成所有音效资源（法师12个音效，机械师14个音效）
  - 背景音乐系统，包含6个不同BGM对应不同地图
  - 游戏主菜单和地图选择功能
  - 加载页面和过渡动画，提升用户体验

- **selectMap.html** (3.74 KB)
  - 地图选择页面，提供6个不同地图供选择
  - 地图预览功能，显示地图缩略图和描述
  - 加载动画效果，增强视觉体验

#### 1.4 辅助功能页面
- **help.html** (27.51 KB)
  - 游戏帮助说明页面，详细介绍游戏规则
  - 两个角色的完整操作指南和技能说明
  - 音量控制功能，允许用户调节游戏音量
  - 动态粒子效果，提升页面交互体验

- **leaderboard.html** (27.21 KB)
  - 排行榜页面，显示玩家在线时长排名
  - 统计数据展示，包括各种游戏数据
  - 实时数据刷新功能，保持排行榜更新
  - 音量控制和背景音乐管理

- **init-database.html** (16.33 KB)
  - 数据库初始化工具，用于首次部署时设置数据库
  - Supabase数据库表结构创建
  - 行级安全策略设置，确保数据安全
  - 触发器和索引创建，优化数据库性能

### 2. JavaScript脚本文件

#### 2.1 核心游戏脚本
- **control.js** (92.59 KB)
  - 游戏核心逻辑控制器，负责游戏的主要功能实现
  - 背景音乐淡入淡出效果管理
  - 加载页面控制和进度显示
  - 游戏主循环逻辑和状态管理
  - 用户交互处理和事件响应

- **game-data-manager.js** (8.9 KB)
  - 游戏数据管理器，负责游戏数据的存储和管理
  - 用户游戏数据管理，包括游戏记录和成就
  - 游戏会话跟踪和时间统计
  - 统计数据更新和排行榜数据处理
  - 游戏设置保存和加载

#### 2.2 数据库与集成脚本
- **supabase.js** (10.05 KB)
  - Supabase数据库连接和操作封装
  - 用户认证管理，包括登录、注册和会话管理
  - 数据增删改查操作，提供统一的数据访问接口
  - 头像上传功能，支持图像存储和获取
  - 排行榜数据获取和更新

- **game-integration.js** (9.06 KB)
  - 游戏集成脚本，负责各模块之间的协调
  - 数据管理器集成和状态同步
  - 游戏状态同步和事件分发

#### 2.3 第三方库
- **jquery.min.js** (84.68 KB)
  - jQuery库，简化DOM操作和事件处理
  - 提供AJAX功能，方便与服务器通信
  - 跨浏览器兼容性支持

### 3. CSS样式文件

- **cover.css** (1.05 KB)
  - 主页面样式，包含背景图片设置
  - START按钮样式和动画效果
  - 游戏标题样式和排版

- **new.css** (49.37 KB)
  - 主要游戏样式，包含游戏中所有UI元素的样式
  - 游戏地图和容器样式定义
  - 角色和UI元素样式，包括按钮、面板等
  - 地图选择界面样式和交互效果
  - 加载页面样式和动画
  - 响应式设计，适配不同屏幕尺寸

### 4. 资源文件

#### 4.1 图像资源 (assets/images/)
- **主界面图像**：logo.png, cover.png等
- **角色相关**：
  - 法师角色：magePrisoner.gif, mageVictory.mp4等
  - 机械师角色：mechanician.mp4, mechanicianJump.gif等
- **背景图像** (backgrounds/)：
  - 6个地图背景 (background1.png - background6.png)
  - 地面和建筑物图片
- **UI相关**：avatar-default.svg, userBcke.jpg等
- **特效图像**：mainImage.mp4等

#### 4.2 音频资源 (assets/sounds/)
- **背景音乐** (bgm/)：BGM1.mp3 - BGM6.mp3（对应6个地图）
- **角色音效**：
  - **法师** (characters/mage/)：12个音效文件（攻击、受击、技能、胜负等）
  - **机械师** (characters/mech/)：14个音效文件（攻击、受击、技能、移动等）
- **效果音** (effects/)：点击、治疗、回合提示、战斗等音效

## 技术架构特点

1. **前后端分离**：使用Supabase作为后端服务，实现数据存储和用户认证
2. **模块化设计**：清晰的文件组织和功能分离，便于维护和扩展
3. **响应式设计**：适配不同屏幕尺寸，提供良好的用户体验
4. **国际化支持**：中文界面设计，符合本地用户需求
5. **现代化UI**：采用渐变、动画等现代设计元素
6. **完整的用户系统**：注册、登录、个人资料管理等功能齐全
7. **数据持久化**：游戏数据和用户信息云端保存，确保数据安全
8. **多媒体支持**：丰富的图像和音频资源，提升游戏体验

## 项目亮点

1. **完整的游戏体验**：从登录到游戏结束的完整流程设计
2. **专业的UI设计**：现代化的界面设计和流畅的动画效果
3. **丰富的音效系统**：每个角色都有独特的音效，增强游戏沉浸感
4. **数据管理完善**：用户数据、游戏数据、排行榜等完整管理
5. **模块化架构**：代码组织清晰，便于维护和扩展
6. **文档齐全**：详细的项目说明和开发文档，方便团队协作

## 开发建议

1. **性能优化**：考虑使用代码分割和懒加载技术，减少首屏加载时间
2. **代码规范**：引入ESLint等代码检查工具，统一代码风格
3. **测试覆盖**：增加单元测试和集成测试，提高代码质量
4. **错误处理**：完善错误处理机制，提升用户体验
5. **缓存策略**：实现合理的缓存策略，减少服务器请求

## 部署说明

1. **数据库初始化**：使用init-database.html页面初始化Supabase数据库
2. **环境配置**：配置Supabase连接信息和其他必要的环境变量
3. **静态资源**：确保所有图像和音频资源正确上传和引用
4. **HTTPS**：建议使用HTTPS协议，特别是涉及用户认证功能时

## 总结

"Dual Edge Showdown"是一个功能完整、架构清晰的双人对战游戏项目，展现了现代Web游戏开发的高水平。项目采用了前后端分离的架构，集成了Supabase作为后端服务，实现了完整的用户系统和游戏功能。丰富的多媒体资源和精美的UI设计为用户提供了良好的游戏体验。清晰的模块化设计和完整的文档使项目具有良好的可维护性和扩展性。